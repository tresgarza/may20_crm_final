{"ast":null,"code":"var _jsxFileName = \"/Users/diegogg98/NEW CRM MAR18/src/components/ui/KanbanBoardAdvisor.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport KanbanBoard from './KanbanBoard';\nimport { updateApplicationStatusField } from '../../services/applicationService';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KanbanBoardAdvisor = ({\n  applications,\n  onRefresh\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const handleStatusChange = async (application, newStatus, statusField) => {\n    if (!(user !== null && user !== void 0 && user.id)) {\n      throw new Error('Usuario no autenticado');\n    }\n    try {\n      // Call the service to update advisor_status\n      await updateApplicationStatusField(application.id, newStatus, 'advisor_status', `Estado cambiado a ${newStatus} por asesor`, user.id);\n\n      // Refresh the board if callback provided\n      if (onRefresh) {\n        onRefresh();\n      }\n    } catch (error) {\n      console.error('Error updating advisor status:', error);\n      throw error;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(KanbanBoard, {\n    applications: applications,\n    onStatusChange: handleStatusChange,\n    statusField: \"advisor_status\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(KanbanBoardAdvisor, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c = KanbanBoardAdvisor;\nexport default KanbanBoardAdvisor;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoardAdvisor\");","map":{"version":3,"names":["React","KanbanBoard","updateApplicationStatusField","useAuth","jsxDEV","_jsxDEV","KanbanBoardAdvisor","applications","onRefresh","_s","user","handleStatusChange","application","newStatus","statusField","id","Error","error","console","onStatusChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/components/ui/KanbanBoardAdvisor.tsx"],"sourcesContent":["import React from 'react';\nimport KanbanBoard from './KanbanBoard';\nimport { updateApplicationStatusField, ApplicationStatus } from '../../services/applicationService';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { APPLICATION_STATUS } from '../../utils/constants/statuses';\n\ninterface KanbanBoardAdvisorProps {\n  applications: any[];\n  onRefresh?: () => void;\n}\n\nconst KanbanBoardAdvisor: React.FC<KanbanBoardAdvisorProps> = ({ applications, onRefresh }) => {\n  const { user } = useAuth();\n\n  const handleStatusChange = async (application: any, newStatus: string, statusField?: string) => {\n    if (!user?.id) {\n      throw new Error('Usuario no autenticado');\n    }\n\n    try {\n      // Call the service to update advisor_status\n      await updateApplicationStatusField(\n        application.id,\n        newStatus as ApplicationStatus,\n        'advisor_status',\n        `Estado cambiado a ${newStatus} por asesor`,\n        user.id\n      );\n\n      // Refresh the board if callback provided\n      if (onRefresh) {\n        onRefresh();\n      }\n    } catch (error) {\n      console.error('Error updating advisor status:', error);\n      throw error;\n    }\n  };\n\n  return (\n    <KanbanBoard \n      applications={applications} \n      onStatusChange={handleStatusChange}\n      statusField=\"advisor_status\"\n    />\n  );\n};\n\nexport default KanbanBoardAdvisor; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,4BAA4B,QAA2B,mCAAmC;AACnG,SAASC,OAAO,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQrD,MAAMC,kBAAqD,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC7F,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC;EAE1B,MAAMQ,kBAAkB,GAAG,MAAAA,CAAOC,WAAgB,EAAEC,SAAiB,EAAEC,WAAoB,KAAK;IAC9F,IAAI,EAACJ,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,EAAE,GAAE;MACb,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3C;IAEA,IAAI;MACF;MACA,MAAMd,4BAA4B,CAChCU,WAAW,CAACG,EAAE,EACdF,SAAS,EACT,gBAAgB,EAChB,qBAAqBA,SAAS,aAAa,EAC3CH,IAAI,CAACK,EACP,CAAC;;MAED;MACA,IAAIP,SAAS,EAAE;QACbA,SAAS,CAAC,CAAC;MACb;IACF,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,MAAMA,KAAK;IACb;EACF,CAAC;EAED,oBACEZ,OAAA,CAACJ,WAAW;IACVM,YAAY,EAAEA,YAAa;IAC3BY,cAAc,EAAER,kBAAmB;IACnCG,WAAW,EAAC;EAAgB;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7B,CAAC;AAEN,CAAC;AAACd,EAAA,CAnCIH,kBAAqD;EAAA,QACxCH,OAAO;AAAA;AAAAqB,EAAA,GADpBlB,kBAAqD;AAqC3D,eAAeA,kBAAkB;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}